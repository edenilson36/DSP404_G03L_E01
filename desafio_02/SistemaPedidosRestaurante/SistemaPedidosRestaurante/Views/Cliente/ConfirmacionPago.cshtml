@{
    ViewBag.Title = "Confirmación de Pago";
}

<style>
    body {
        background-color: #F2F5F7; 
        font-family: 'Arial', sans-serif;
    }

    .card-confirmacion {
        background-color: #FFFFFF; 
        border: 1px solid #2196F3; 
        border-radius: 10px;
        padding: 30px;
        max-width: 600px;
        margin: 30px auto;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1); 
    }

    h2 {
        text-align: center;
        color: #1976D2; 
    }

    p {
        color: #424242; 
        text-align: center;
        font-size: 16px;
    }

    ul {
        list-style: none;
        padding-left: 0;
        text-align: center;
        font-size: 18px;
    }

    li {
        color: #1976D2;
    }

    h4 {
        color: #1976D2; 
        text-align: center;
        font-size: 20px;
        margin-top: 20px;
    }

    a {
        color: #1976D2; 
        text-decoration: none;
    }

        a:hover {
            text-decoration: underline;
        }

   
    .btn-confirmacion {
        display: block;
        width: 50%;
        margin: 20px auto;
        padding: 10px;
        background-color: #2196F3; 
        border: none;
        border-radius: 5px;
        color: white;
        font-size: 18px;
        cursor: pointer;
        text-align: center;
    }

        .btn-confirmacion:hover {
            background-color: #1976D2; 
        }
</style>

<div class="card-confirmacion">
    <h2>Confirmación de Pedido</h2>

    <p>¡Gracias por tu pedido! Aquí están los detalles de tu compra:</p>

    <ul>
        @foreach (var plato in ViewBag.PlatosSeleccionados)
        {
            <li>@plato</li>
        }
    </ul>

    <h4>Total: $@CalcularTotal(ViewBag.PlatosSeleccionados)</h4>

    <p>Forma de pago: @ViewBag.FormaPago</p>

    <p>Tu pedido está en proceso y puedes revisarlo en el <a href="@Url.Action("Historial", "Cliente")">Historial de Compras</a>.</p>

    <a href="@Url.Action("Menu", "Cliente")" class="btn-confirmacion">Volver al Menú</a>
</div>

@functions {
  
    decimal CalcularTotal(string[] platosSeleccionados)
    {
        decimal total = 0;
        foreach (var plato in platosSeleccionados)
        {
            if (plato == "Plato 1") { total += 10; }
            if (plato == "Plato 2") { total += 15; }
            if (plato == "Plato 3") { total += 20; }
        }
        return total;
    }
}
